<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  const findMedianSortedArrays = function (nums1, nums2) {
    // 找出分割线，使得左边的所有元素 <= 右边的所有元素
    // 分割线位置：m + n 为偶数 --> left size = right size； m + n 为奇数 -->  left size - 1 = right size(左边多一个元素)
    // 分割线条件：由于两个都是有序数组，在同一个数组内，左边的元素肯定小于等于左边的元素。在不同的数组之间，需要满足交叉满足左边小于等于右边！
    if (nums2.length > nums1.length) {
      [nums1, nums2] = [nums2, nums1];
    }
    const nums1Len = nums1.length, nums2Len = nums2.length;
    const totalLeft = Math.ceil((nums1Len + nums2Len) / 2);
    let left = 0, right = nums1Len;
    while (left < right) {
      let i = left + Math.ceil((right - left) / 2), j = totalLeft - i;
      if (nums1[i - 1] > nums2[j] )  {
        right = i - 1; // 下一轮搜索区间[left,i-1]
      } else {
        left = i;// 下一轮搜索区间[i,right]
      }
    }
    const i = left, j = totalLeft - left;
    const num1Left = i === 0 ? Number.MIN_VALUE : nums1[i - 1];
    const num1Right = i === nums1Len ? Number.MAX_VALUE : nums1[i];
    const num2Left = j === 0 ? Number.MIN_VALUE : nums2[j - 1];
    const num2Right = j === nums2Len ? Number.MAX_VALUE : nums2[j];
    const leftMax = Math.max(num1Left, num2Left);
    const rightMin = Math.min(num1Right, num2Right);
    return (nums1Len + nums2Len) % 2 === 1 ? leftMax : (leftMax + rightMin) / 2;

  };
  console.log(findMedianSortedArrays([1, 2, 3, 4, 6, 7, 8], []));// 4

</script>

</body>
</html>
